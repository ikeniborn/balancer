# 9. Сравнительная таблица подходов и миграция

## 9. Сравнительная таблица подходов

| Параметр | Static Mount | Proxy Container |
|----------|-------------|-----------------|
| **RAM usage** | ~80MB (1 Nginx) | ~160MB (2 Nginx) |
| **Latency** | ~2-5ms | ~5-10ms |
| **Деплой** | Copy files + reload | Build + restart |
| **Rollback** | Instant | Requires rebuild |
| **Cache control** | Nginx config | Upstream + Nginx |
| **Hot reload** | Yes (nginx -s reload) | Container restart |
| **Isolation** | Low | High |
| **Complexity** | Low | Medium |
| **Best for** | SPA builds, static | SSR, custom logic |

---

## 10. Чек-лист миграции

Для существующих сервисов, которые нужно перевести на direct mount:

```
☐ 1. Backup текущего сервиса
   ☐ Экспорт конфигурации
   ☐ Backup контента

☐ 2. Подготовка
   ☐ Создать директорию в /static/
   ☐ Скопировать контент из контейнера
   ☐ Проверить права доступа

☐ 3. Создание новой конфигурации
   ☐ Запустить add-service.sh
   ☐ Выбрать Frontend Static
   ☐ Указать существующий домен

☐ 4. Переключение
   ☐ Удалить старую конфигурацию
   ☐ Остановить старый контейнер
   ☐ Reload Nginx

☐ 5. Проверка
   ☐ Тест доступности
   ☐ Проверка логов
   ☐ Мониторинг производительности

☐ 6. Очистка
   ☐ Удалить старый контейнер
   ☐ Удалить старые volumes
```

---

## Заключение

Добавление поддержки прямого монтирования статики обеспечивает:

✅ **Снижение потребления ресурсов на 50%**  
✅ **Упрощение деплоя фронтендов**  
✅ **Мгновенные rollback без rebuild**  
✅ **Лучшая производительность**  
✅ **Гибкость архитектуры**

Используйте **Static Mount** для:
- React, Vue, Angular builds
- Простых статических сайтов
- Landing pages
- Documentation sites

Используйте **Proxy Container** для:
- Next.js, Nuxt.js (SSR)
- Сложных Nginx конфигураций
- Когда нужна полная изоляция

---

[◀ Назад к оглавлению](INDEX.md)

---

**Конец дополнения**
